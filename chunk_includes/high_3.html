<style>
    label {
        display: inline-block;
        margin-bottom: 8px;
    }
    a.left {
        padding-right: 5px;
    }
    a.right {
        padding-left: 5px;
    }
</style>
<div align="center">
    <div id="trialDiv">

<div id="storyDiv">
    <p>Violent protests have erupted throughout the city due to recent legislatures from the corrupt government. The following scale has been released by the press, measuring the safety of certain neighborhoods, where a higher number indicates a safer neighborhood.</p>

    <ul style="list-style: none">
        <li>Neighborhood A is ranked at 10,</li>
        <li>Neighborhood B is ranked at 8,</li>
        <li>Neighborhood C is ranked at 5,</li>
        <li>Neighborhood D is ranked at 2,</li>
        <li>Neighborhood E is ranked at 1, and</li>
        <li>Neighborhood F is ranked at 0.</li></ul>

<p>Four tourists are trapped in the city. One asks, "Where should we go to avoid the protests?"</p>

</div>

        <table cellpadding="10" cellspacing="4">
        <tr>
          <td>Who knows where to avoid the violent protests? (Choose all that apply)<br>
        </tr>
        <tr class="bordered">
        <td>
            <label for="tourist_a"><input type="checkbox" id="tourist_a" name="tourist_A_chosen" value="Tourist A" ><span>Tourist A</span></label>
            <label for="tourist_b"><input type="checkbox" id="tourist_b" name="tourist_B_chosen" value="Tourist B" ><span>Tourist B</span></label>
            <label for="tourist_c"><input type="checkbox" id="tourist_c" name="tourist_C_chosen" value="Tourist C" ><span>Tourist C</span></label>
            <label for="no_one"><input type="checkbox" id="no_one" name="no_one_chosen" value="No one"><span>No one</span></label>
        </td>

    </tr>

</table>
</div>
</div>

<div id = "answer_report_div" style="visibility: hidden">
</div>
<!--end html-->

<script type="text/javascript">



    String.prototype.format = function() {
    var s = this,
        i = arguments.length;

    while (i--) {
        s = s.replace(new RegExp('\\{' + i + '\\}', 'gm'), arguments[i]);
    }
    return s;
    };

   var storyDiv = document.getElementById('storyDiv');

      // the array of possible answers
   var answers = Array('Neighborhoods A, B, C, D, and E.', 'Neighborhood A.', 
                  'Neighborhoods A and C.', 'Neighborhoods A and E.', 
                  'Neighborhoods C and E.', 'Neighborhood E.', 'Neighborhood F.');

   var weights = Array(10,16,16,16,16,16,10);
   
   var answers_array = Array();

   for ( i = 0; i < 3; i++) {
       answers_array.push(pickUsingWeightsAndRemove(answers,weights));
   }
   
   var tourist_A_answer = 'Tourist A says, "{0}{1}'.format(answers_array.splice(Math.floor(Math.random()*answers_array.length),1),'"')
   var tourist_B_answer = 'Tourist B says, "{0}{1}'.format(answers_array.splice(Math.floor(Math.random()*answers_array.length),1),'"')
   var tourist_C_answer = 'Tourist C says, "{0}{1}'.format(answers_array.splice(Math.floor(Math.random()*answers_array.length),1),'"')
   //
   var answer1 = document.createElement('p');
   var ans1node = document.createTextNode(tourist_A_answer);
   answer1.appendChild(ans1node);
   storyDiv.appendChild(answer1);

   var answer2 = document.createElement('p');
   var ans2node = document.createTextNode(tourist_B_answer);
   answer2.appendChild(ans2node);
   storyDiv.appendChild(answer2);

   var answer3 = document.createElement('p');
   var ans3node = document.createTextNode(tourist_C_answer);
   answer3.appendChild(ans3node);
   storyDiv.appendChild(answer3);

   // create a textarea element that will hold the answer values for this trial
   var answer_report = document.createElement('textarea');
   answer_report.id = "answer_report";
   answer_report.setAttribute("name","answers_reported")
   answer_report.setAttribute("placeholder","{0},{1},{2}".format(tourist_A_answer,tourist_B_answer,tourist_C_answer));

   // append it to the hidden answer_report div in the body HTML
   document.getElementById("answer_report_div").appendChild(answer_report);
   document.getElementById("answer_report").append("placeholder","{0},{1},{2}".format(tourist_A_answer,tourist_B_answer,tourist_C_answer));



</script>